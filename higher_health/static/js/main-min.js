"use strict";let placeSearch,autocomplete,prov=document.getElementById("id_facility_destination_province"),uni=document.getElementById("id_facility_destination_university"),camp=document.getElementById("id_facility_destination_campus"),uniClone=uni.cloneNode(!0),campClone=camp.cloneNode(!0),formSubmit=document.getElementById("login_form"),addressInput=document.getElementById("autocomplete"),latInput=document.getElementById("id_latitude"),lngInput=document.getElementById("id_longitude"),selected_province=prov.options[prov.selectedIndex];function showHiddenInputs(e,t,n,o){n.options.length=0;for(let i=0;i<t.options.length;i++){let s=t.options[i];o[s.value]!=e&&null!=o[s.value]||n.appendChild(s)}}function clearCampus(){uni.value="",camp.value="",camp.parentElement.classList.add("hidden")}""!==selected_province.value&&(showHiddenInputs(selected_province.value,uniClone,uni,universities),showHiddenInputs(uni.options[uni.selectedIndex].value,campClone,camp,campuses),clearCampus(),prov.addEventListener("change",function(){showHiddenInputs(this.value,uniClone,uni,universities),clearCampus()}),uni.addEventListener("change",function(){showHiddenInputs(this.value,campClone,camp,campuses),camp.parentElement.classList.remove("hidden")}));const componentForm={street_number:"short_name",route:"long_name",locality:"long_name",country:"long_name"};function fillInAddress(){let e=autocomplete.getPlace();for(let e in componentForm)document.getElementById(e).value="";let t=e.geometry.location;latInput.value=t.lat(),lngInput.value=t.lng();for(let t=0;t<e.address_components.length;t++){let n=e.address_components[t].types[0];if(componentForm[n]){let o=e.address_components[t][componentForm[n]];document.getElementById(n).value=o}}}function initAutocomplete(){(autocomplete=new google.maps.places.Autocomplete(document.getElementById("autocomplete"),{types:["geocode"]})).setFields(["address_components","geometry"]),autocomplete.addListener("place_changed",fillInAddress)}function geolocate(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){let t={lat:e.coords.latitude,lng:e.coords.longitude},n=new google.maps.Circle({center:t,radius:e.coords.accuracy});autocomplete.setBounds(n.getBounds())})}const checkbox=document.getElementById("healthcheck_terms"),questionnairesForm=document.getElementById("questionnaires"),addressField=document.getElementById("autocomplete"),preexistingconditionsYes=document.getElementById("id_history_pre_existing_condition_0"),preexistingconditionsNo=document.getElementById("id_history_pre_existing_condition_1"),preexistingconditionsNotsure=document.getElementById("id_history_pre_existing_condition_2");document.addEventListener("DOMContentLoaded",function(e){"true"===sessionStorage.getItem("checkbox")?(checkbox.checked=!0,questionnairesForm.classList.add("showing"),questionnairesForm.classList.remove("hidden")):(checkbox.checked=!1,questionnairesForm.classList.add("hidden"),questionnairesForm.classList.remove("showing")),checkbox.addEventListener("change",function(e){e.target.checked?(sessionStorage.setItem("checkbox","true"),questionnairesForm.classList.add("showing"),questionnairesForm.classList.remove("hidden")):(sessionStorage.setItem("checkbox","false"),questionnairesForm.classList.add("hidden"),questionnairesForm.classList.remove("showing"))});let t=sessionStorage.getItem("preexistingRadio");"true"===t||"not_sure"===t?(preexistingconditionsYes.checked=!0,preexistingconditionsForm.classList.add("showing"),preexistingconditionsForm.classList.remove("hidden")):(preexistingconditionsYes.checked=!1,preexistingconditionsForm.classList.add("hidden"),preexistingconditionsForm.classList.remove("showing")),preexistingconditionsYes.addEventListener("change",function(e){e.target.checked?(sessionStorage.setItem("preexistingRadio","true"),preexistingconditionsForm.classList.add("showing"),preexistingconditionsForm.classList.remove("hidden")):(sessionStorage.setItem("preexistingRadio","false"),preexistingconditionsForm.classList.add("hidden"),preexistingconditionsForm.classList.remove("showing"))}),preexistingconditionsNo.addEventListener("change",function(e){e.target.checked&&(sessionStorage.setItem("preexistingRadio","false"),preexistingconditionsForm.classList.add("hidden"),preexistingconditionsForm.classList.remove("showing"))}),preexistingconditionsNotsure.addEventListener("change",function(e){e.target.checked?(sessionStorage.setItem("preexistingRadio","true"),preexistingconditionsForm.classList.add("showing"),preexistingconditionsForm.classList.remove("hidden")):(sessionStorage.setItem("preexistingRadio","false"),preexistingconditionsForm.classList.add("hidden"),preexistingconditionsForm.classList.remove("showing"))}),latInput.value=sessionStorage.getItem("lat"),lngInput.value=sessionStorage.getItem("lng"),formSubmit.addEventListener("submit",function(e){""===latInput.value&&""===lngInput.value||(sessionStorage.setItem("lat",latInput.value),sessionStorage.setItem("lng",lngInput.value))})});